---
title: Scalingo Outscale Object Storage
nav: Introduction
modified_at: 2021-03-17 00:00:00
tags: oos
index: 1
---

{% warning %}
This feature is currently available in Private Beta. It means the product is not available to everyone.
{% endwarning %}

## Introduction

This addon provide an outscale object storage for your app.

Like others, it can be found under the tab "resources", panel "addons", button "add a new addon".

## Using a CLI

### Installation

OOS is compatible with Amazon S3. So it is possible to use the AWS CLI with OOS.
To install the AWS CLI follow this guide https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html

#### Configure a profile

Once you have instanced the OOS addon, new env values will be available. With them you can configure an aws CLI profile.
```bash
aws configure --profile PROFILE_NAME
```
* where `PROFILE_NAME` could be `sc-app-APP_NAME` with `APP_NAME`, the app name

Four values will be asked
* AWS Access Key ID: `OOS_ACCESS_KEY_ID` env value
* AWS Secret Access Key: `OOS_SECRET_KEY` env value
* Default region name: `OOS_REGION` env value
* Default output format: type `json`

### Uploading objects

{% note %}
These commands, autofilled, are available in your app addon dashboard
{% endnote %}

```bash
aws s3api put-object \
--profile PROFILE_NAME \
--bucket BUCKET \
--key OBJECT \
--body PATH \
--endpoint OOS_ENDPOINT_URL
```
where
* BUCKET: the env value `OOS_BUCKET_NAME`
* REGION: the env value `OOS_REGION`
* OBJECT: the object name in the bucket.
* PATH: the object path on your machine
* OOS_ENDPOINT_URL: the env value `OOS_ENDPOINT_URL`

### Listing objects

{% note %}
These commands, autofilled, are available in your app addon dashboard
{% endnote %}

You can either list via the s3 shortcuts
```bash
aws s3 ls s3://OOS_BUCKET_NAME --profile PROFILE_NAME --endpoint OOS_ENDPOINT_URL --human-readable --summarize --recursive
```
or the api wrapper, depending what information you need
```bash
aws s3api --profile PROFILE_NAME list-objects --bucket OOS_BUCKET_NAME --endpoint OOS_ENDPOINT_URL
```

where
* BUCKET: the env value `OOS_BUCKET_NAME`
* REGION: the env value `OOS_REGION`
* OOS_ENDPOINT_URL: the env value `OOS_ENDPOINT_URL`
* OBJECT: the name you want to give to the object in the bucket.
* PATH: the path to the object on your machine

## Using Ruby

Install the [aws s3 gem](https://github.com/aws/aws-sdk-ruby)
```bash
gem 'aws-sdk-s3', '~> 1'
```
Instance a service
```ruby
client = Aws::S3::Client.new(
  region: ENV['OOS_REGION'],
  access_key_id: ENV['OOS_ACCESS_KEY_ID'],
  secret_access_key: ENV['OOS_SECRET_KEY'],
  endpoint: ENV['OOS_ENDPOINT_URL']
)
```
Use the [available methods](https://docs.aws.amazon.com/sdk-for-ruby/v3/api/Aws/S3/Client.html)
```ruby
client.get_object(
    response_target: local_path,
    bucket: ENV['OOS_BUCKET_NAME'],
    key: object_key
)
```
Many [examples](https://docs.aws.amazon.com/sdk-for-ruby/v3/developer-guide/s3-examples.html) are available in Amazon documentation.

## Using Golang

Import the deps
```go
"github.com/aws/aws-sdk-go-v2/aws"
"github.com/aws/aws-sdk-go-v2/config"
"github.com/aws/aws-sdk-go-v2/credentials"
"github.com/aws/aws-sdk-go-v2/service/s3"
```
Instance a service
```go
cfg, err := config.LoadDefaultConfig(
    context.TODO(),
    config.WithEndpointResolverWithOptions(
        aws.EndpointResolverWithOptionsFunc(func(service, region string, options ...interface{}) (aws.Endpoint, error) {
            return aws.Endpoint{
                URL:           os.Getenv("OOS_ENDPOINT_URL"),
                SigningRegion: os.Getenv("OOS_REGION"),
            }, nil
        }),
    ),
    config.WithCredentialsProvider(credentials.NewStaticCredentialsProvider(
        os.Getenv("OOS_ACCESS_KEY_ID"),
        os.Getenv("OOS_SECRET_KEY"),
        "")),
)
if err != nil {
    log.Fatalf("unable to load SDK config, %v", err)
}
svc := s3.NewFromConfig(cfg)
```
Use the [available methods](https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3#Client)
```go
output, err := svc.GetObject(context.TODO(), &s3.GetObjectInput{
    Bucket: aws.String(os.Getenv("OOS_BUCKET_NAME")),
    Key:    aws.String(objectKey),
})
```
Many [examples](https://aws.github.io/aws-sdk-go-v2/docs/code-examples/s3/) are available in Amazon documentation.
